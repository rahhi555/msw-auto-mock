"use strict";var Gr=Object.create;var W=Object.defineProperty;var _r=Object.getOwnPropertyDescriptor;var Fr=Object.getOwnPropertyNames;var Zr=Object.getPrototypeOf,Hr=Object.prototype.hasOwnProperty;var Jr=(e,r)=>()=>(e&&(r=e(e=0)),r);var u=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Yr=(e,r,t,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Fr(r))!Hr.call(e,s)&&s!==t&&W(e,s,{get:()=>r[s],enumerable:!(i=_r(r,s))||i.enumerable});return e};var p=(e,r,t)=>(t=e!=null?Gr(Zr(e)):{},Yr(r||!e||!e.__esModule?W(t,"default",{value:e,enumerable:!0}):t,e));var n=Jr(()=>{});var z=u(f=>{"use strict";n();f.__esModule=!0;f.OpenAPIV2=f.OpenAPIV3=void 0;var Xr;(function(e){var r;(function(t){t.GET="get",t.PUT="put",t.POST="post",t.DELETE="delete",t.OPTIONS="options",t.HEAD="head",t.PATCH="patch",t.TRACE="trace"})(r=e.HttpMethods||(e.HttpMethods={}))})(Xr=f.OpenAPIV3||(f.OpenAPIV3={}));var Br;(function(e){var r;(function(t){t.GET="get",t.PUT="put",t.POST="post",t.DELETE="delete",t.OPTIONS="options",t.HEAD="head",t.PATCH="patch"})(r=e.HttpMethods||(e.HttpMethods={}))})(Br=f.OpenAPIV2||(f.OpenAPIV2={}))});var Z=u((Ti,F)=>{n();var Kr=typeof global=="object"&&global&&global.Object===Object&&global;F.exports=Kr});var J=u((Pi,H)=>{n();var Qr=Z(),et=typeof self=="object"&&self&&self.Object===Object&&self,rt=Qr||et||Function("return this")();H.exports=rt});var A=u((Ci,Y)=>{n();var tt=J(),nt=tt.Symbol;Y.exports=nt});var B=u((ki,X)=>{n();function it(e,r){for(var t=-1,i=e==null?0:e.length,s=Array(i);++t<i;)s[t]=r(e[t],t,e);return s}X.exports=it});var Q=u((Ii,K)=>{n();var st=Array.isArray;K.exports=st});var ne=u((qi,te)=>{n();var ee=A(),re=Object.prototype,ot=re.hasOwnProperty,ut=re.toString,g=ee?ee.toStringTag:void 0;function at(e){var r=ot.call(e,g),t=e[g];try{e[g]=void 0;var i=!0}catch{}var s=ut.call(e);return i&&(r?e[g]=t:delete e[g]),s}te.exports=at});var se=u((Ei,ie)=>{n();var ct=Object.prototype,pt=ct.toString;function ft(e){return pt.call(e)}ie.exports=ft});var ce=u((Ui,ae)=>{n();var oe=A(),lt=ne(),dt=se(),mt="[object Null]",bt="[object Undefined]",ue=oe?oe.toStringTag:void 0;function xt(e){return e==null?e===void 0?bt:mt:ue&&ue in Object(e)?lt(e):dt(e)}ae.exports=xt});var fe=u((Vi,pe)=>{n();function gt(e){return e!=null&&typeof e=="object"}pe.exports=gt});var de=u((Li,le)=>{n();var Ot=ce(),ht=fe(),At="[object Symbol]";function vt(e){return typeof e=="symbol"||ht(e)&&Ot(e)==At}le.exports=vt});var he=u((Di,Oe)=>{n();var me=A(),yt=B(),wt=Q(),jt=de(),Rt=1/0,be=me?me.prototype:void 0,xe=be?be.toString:void 0;function ge(e){if(typeof e=="string")return e;if(wt(e))return yt(e,ge)+"";if(jt(e))return xe?xe.call(e):"";var r=e+"";return r=="0"&&1/e==-Rt?"-0":r}Oe.exports=ge});var O=u((Mi,Ae)=>{n();var St=he();function Tt(e){return e==null?"":St(e)}Ae.exports=Tt});var ye=u((Ni,ve)=>{n();function Pt(e,r,t){var i=-1,s=e.length;r<0&&(r=-r>s?0:s+r),t=t>s?s:t,t<0&&(t+=s),s=r>t?0:t-r>>>0,r>>>=0;for(var c=Array(s);++i<s;)c[i]=e[i+r];return c}ve.exports=Pt});var je=u((Wi,we)=>{n();var Ct=ye();function kt(e,r,t){var i=e.length;return t=t===void 0?i:t,!r&&t>=i?e:Ct(e,r,t)}we.exports=kt});var S=u((zi,Re)=>{n();var It="\\ud800-\\udfff",qt="\\u0300-\\u036f",Et="\\ufe20-\\ufe2f",Ut="\\u20d0-\\u20ff",Vt=qt+Et+Ut,Lt="\\ufe0e\\ufe0f",Dt="\\u200d",Mt=RegExp("["+Dt+It+Vt+Lt+"]");function Nt(e){return Mt.test(e)}Re.exports=Nt});var Te=u(($i,Se)=>{n();function Wt(e){return e.split("")}Se.exports=Wt});var Ve=u((Gi,Ue)=>{n();var Pe="\\ud800-\\udfff",zt="\\u0300-\\u036f",$t="\\ufe20-\\ufe2f",Gt="\\u20d0-\\u20ff",_t=zt+$t+Gt,Ft="\\ufe0e\\ufe0f",Zt="["+Pe+"]",T="["+_t+"]",P="\\ud83c[\\udffb-\\udfff]",Ht="(?:"+T+"|"+P+")",Ce="[^"+Pe+"]",ke="(?:\\ud83c[\\udde6-\\uddff]){2}",Ie="[\\ud800-\\udbff][\\udc00-\\udfff]",Jt="\\u200d",qe=Ht+"?",Ee="["+Ft+"]?",Yt="(?:"+Jt+"(?:"+[Ce,ke,Ie].join("|")+")"+Ee+qe+")*",Xt=Ee+qe+Yt,Bt="(?:"+[Ce+T+"?",T,ke,Ie,Zt].join("|")+")",Kt=RegExp(P+"(?="+P+")|"+Bt+Xt,"g");function Qt(e){return e.match(Kt)||[]}Ue.exports=Qt});var De=u((_i,Le)=>{n();var en=Te(),rn=S(),tn=Ve();function nn(e){return rn(e)?tn(e):en(e)}Le.exports=nn});var Ne=u((Fi,Me)=>{n();var sn=je(),on=S(),un=De(),an=O();function cn(e){return function(r){r=an(r);var t=on(r)?un(r):void 0,i=t?t[0]:r.charAt(0),s=t?sn(t,1).join(""):r.slice(1);return i[e]()+s}}Me.exports=cn});var ze=u((Zi,We)=>{n();var pn=Ne(),fn=pn("toUpperCase");We.exports=fn});var Ge=u((Hi,$e)=>{n();var ln=O(),dn=ze();function mn(e){return dn(ln(e).toLowerCase())}$e.exports=mn});var Fe=u((Ji,_e)=>{n();function bn(e,r,t,i){var s=-1,c=e==null?0:e.length;for(i&&c&&(t=e[++s]);++s<c;)t=r(t,e[s],s,e);return t}_e.exports=bn});var He=u((Yi,Ze)=>{n();function xn(e){return function(r){return e==null?void 0:e[r]}}Ze.exports=xn});var Ye=u((Xi,Je)=>{n();var gn=He(),On={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},hn=gn(On);Je.exports=hn});var Be=u((Bi,Xe)=>{n();var An=Ye(),vn=O(),yn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wn="\\u0300-\\u036f",jn="\\ufe20-\\ufe2f",Rn="\\u20d0-\\u20ff",Sn=wn+jn+Rn,Tn="["+Sn+"]",Pn=RegExp(Tn,"g");function Cn(e){return e=vn(e),e&&e.replace(yn,An).replace(Pn,"")}Xe.exports=Cn});var Qe=u((Ki,Ke)=>{n();var kn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function In(e){return e.match(kn)||[]}Ke.exports=In});var rr=u((Qi,er)=>{n();var qn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function En(e){return qn.test(e)}er.exports=En});var Ar=u((es,hr)=>{n();var or="\\ud800-\\udfff",Un="\\u0300-\\u036f",Vn="\\ufe20-\\ufe2f",Ln="\\u20d0-\\u20ff",Dn=Un+Vn+Ln,ur="\\u2700-\\u27bf",ar="a-z\\xdf-\\xf6\\xf8-\\xff",Mn="\\xac\\xb1\\xd7\\xf7",Nn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Wn="\\u2000-\\u206f",zn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",cr="A-Z\\xc0-\\xd6\\xd8-\\xde",$n="\\ufe0e\\ufe0f",pr=Mn+Nn+Wn+zn,fr="['\u2019]",tr="["+pr+"]",Gn="["+Dn+"]",lr="\\d+",_n="["+ur+"]",dr="["+ar+"]",mr="[^"+or+pr+lr+ur+ar+cr+"]",Fn="\\ud83c[\\udffb-\\udfff]",Zn="(?:"+Gn+"|"+Fn+")",Hn="[^"+or+"]",br="(?:\\ud83c[\\udde6-\\uddff]){2}",xr="[\\ud800-\\udbff][\\udc00-\\udfff]",m="["+cr+"]",Jn="\\u200d",nr="(?:"+dr+"|"+mr+")",Yn="(?:"+m+"|"+mr+")",ir="(?:"+fr+"(?:d|ll|m|re|s|t|ve))?",sr="(?:"+fr+"(?:D|LL|M|RE|S|T|VE))?",gr=Zn+"?",Or="["+$n+"]?",Xn="(?:"+Jn+"(?:"+[Hn,br,xr].join("|")+")"+Or+gr+")*",Bn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Kn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Qn=Or+gr+Xn,ei="(?:"+[_n,br,xr].join("|")+")"+Qn,ri=RegExp([m+"?"+dr+"+"+ir+"(?="+[tr,m,"$"].join("|")+")",Yn+"+"+sr+"(?="+[tr,m+nr,"$"].join("|")+")",m+"?"+nr+"+"+ir,m+"+"+sr,Kn,Bn,lr,ei].join("|"),"g");function ti(e){return e.match(ri)||[]}hr.exports=ti});var yr=u((rs,vr)=>{n();var ni=Qe(),ii=rr(),si=O(),oi=Ar();function ui(e,r,t){return e=si(e),r=t?void 0:r,r===void 0?ii(e)?oi(e):ni(e):e.match(r)||[]}vr.exports=ui});var jr=u((ts,wr)=>{n();var ai=Fe(),ci=Be(),pi=yr(),fi="['\u2019]",li=RegExp(fi,"g");function di(e){return function(r){return ai(pi(ci(r).replace(li,"")),e,"")}}wr.exports=di});var Sr=u((ns,Rr)=>{n();var mi=Ge(),bi=jr(),xi=bi(function(e,r,t){return r=r.toLowerCase(),e+(t?mi(r):r)});Rr.exports=xi});n();var Mr=p(require("cac"));n();var qr=p(require("fs")),Er=p(require("path")),Ur=p(require("oazapfts/lib/codegen/generate")),Vr=p(z());n();var $=p(require("@apidevtools/swagger-parser")),G=p(require("swagger2openapi"));async function _(e){let r=await $.default.bundle(e);return"openapi"in r&&r.openapi.startsWith("3")?r:(await G.default.convertObj(r,{})).openapi}n();var v=p(require("prettier")),Tr=p(require("path")),Pr=p(Sr()),gi={ts:"typescript",tsx:"typescript",js:"babel",jsx:"babel","js.flow":"flow",flow:"flow",gql:"graphql",graphql:"graphql",css:"postcss",scss:"postcss",less:"postcss",stylus:"postcss",markdown:"markdown",md:"markdown",json:"json"};async function C(e,r){let t=null,i="typescript";if(e){let s=Tr.extname(e).slice(1);i=gi[s],t=await v.resolveConfig(process.cwd(),{useCache:!0,editorconfig:!0})}return v.format(r,{parser:i,...t})}var Cr=e=>e.replace(/{(.+?)}/g,(r,t)=>`:${(0,Pr.default)(t)}`);n();function kr(e){return e.map(r=>`rest.${r.verb}(\`\${baseURL}${r.path}\`, (req, res, ctx) => {
        const resultArray = [${r.responseMap.map(t=>{var i;return`[ctx.status(${parseInt(t==null?void 0:t.code)}), ctx.json(${h((i=t==null?void 0:t.responses)==null?void 0:i["application/json"])})]`})}];

          return res(...resultArray[next() % resultArray.length])
        }),
`).join("  ").trimEnd()}function h(e,r){var t;if(!e)return"null";if(e.example)return JSON.stringify(e.example);if(Array.isArray(e.type))return`faker.helpers.arrayElement([${e.type.map(i=>h({...e,type:i})).join(",")}])`;if(e.enum)return`faker.helpers.arrayElement(${JSON.stringify(e.enum)})`;switch(e.type){case"string":return Oi(e.format,r);case"number":return"faker.datatype.number()";case"integer":return"faker.datatype.number()";case"boolean":return"faker.datatype.boolean()";case"object":return!e.properties&&typeof e.additionalProperties=="object"?`[...new Array(5).keys()].map(_ => ({ [faker.lorem.word()]: ${h(e.additionalProperties)} })).reduce((acc, next) => Object.assign(acc, next), {})`:`{
        ${Object.entries((t=e.properties)!=null?t:{}).map(([i,s])=>`${JSON.stringify(i)}: ${h(s,i)}`).join(`,
`)}
    }`;case"array":return`[...(new Array(faker.datatype.number({ max: MAX_ARRAY_LENGTH }))).keys()].map(_ => (${h(e.items)}))`;default:return"null"}}function Oi(e,r){return["date-time","date","time"].includes(e!=null?e:"")||(r==null?void 0:r.toLowerCase().endsWith("_at"))?"faker.date.past()":e==="uuid"?"faker.datatype.uuid()":["idn-email","email"].includes(e!=null?e:"")||(r==null?void 0:r.toLowerCase().endsWith("email"))?"faker.internet.email()":["hostname","idn-hostname"].includes(e!=null?e:"")?"faker.internet.domainName()":e==="ipv4"?"faker.internet.ip()":e==="ipv6"?"faker.internet.ipv6()":["uri","uri-reference","iri","iri-reference","uri-template"].includes(e!=null?e:"")||(r==null?void 0:r.toLowerCase().endsWith("url"))?"faker.internet.url()":r!=null&&r.toLowerCase().endsWith("name")?"faker.name.findName()":"faker.lorem.slug(1)"}n();var Ir=(e,r,t)=>{var i;return`/**
* This file is AUTO GENERATED by [msw-auto-mock](https://github.com/zoubingwu/msw-auto-mock)
* Feel free to commit/edit it as you need.
*/
/* eslint-disable */
/* tslint:disable */
import { setupWorker, rest } from 'msw';
import { faker } from '@faker-js/faker';

faker.seed(1);

const baseURL = '${r}';
const MAX_ARRAY_LENGTH = ${(i=t==null?void 0:t.maxArrayLength)!=null?i:20};

let i = 0;
const next = () => {
  if (i === Number.MAX_SAFE_INTEGER - 1) {
    i = 0;
  }
  return i++;
}

export const handlers = [
  ${e}
];

// This configures a Service Worker with the given request handlers.
export const startWorker = () => {
  if (typeof window === 'undefined') {
    const { setupServer } = require('msw/node');
    const server = setupServer(...handlers);
    server.listen();
  } else {
    const worker = setupWorker(...handlers);
    worker.start();
  }
}
`};async function Lr(e,r){var q,E,U,V;let{output:t}=r,i,s=await _(e),c=new Ur.default(s,{}),Nr=vi(s),k=(E=(q=r==null?void 0:r.includes)==null?void 0:q.split(","))!=null?E:null,I=(V=(U=r==null?void 0:r.excludes)==null?void 0:U.split(","))!=null?V:null,Wr=Nr.filter(l=>!(k&&!k.includes(l.path)||I&&I.includes(l.path))).map(l=>{let{verb:a,path:d,responses:x}=l,j=Object.entries(x).map(([L,zr])=>{let R=c.resolve(zr).content;if(!R)return{code:L};let $r=Object.keys(R).reduce((D,M)=>{let N=R[M].schema;return typeof N<"u"&&(D[M]=b(N)),D},{});return{code:L,responses:$r}});return{verb:a,path:Cr(d),responseMap:j}}),w="";r.baseUrl===!0?w=hi(s):typeof r.baseUrl=="string"&&(w=r.baseUrl),i=Ir(kr(Wr),w,r),t?qr.writeFileSync(Er.resolve(process.cwd(),t),await C(t,i)):console.log(await C(null,i));function b(l){let a=c.resolve(l);if(a.type==="array"?(a.items=c.resolve(a.items),a.items=b(a.items)):a.type==="object"&&(!a.properties&&typeof a.additionalProperties=="object"&&"$ref"in a.additionalProperties&&(a.additionalProperties=b(c.resolve(a.additionalProperties))),a.properties&&(a.properties=Object.entries(a.properties).reduce((d,[x,j])=>(d[x]=b(j),d),{}))),a.allOf){let d=a.allOf.map(x=>b(x).properties);a.properties=Object.assign({},...d),a.type="object",delete a.allOf}return a}}function hi(e){var i;let r=(i=e.servers)==null?void 0:i.at(0),t="";return r&&(t=r.url),r!=null&&r.variables&&Object.entries(r.variables).forEach(([s,c])=>{t=t.replace(`{${s}}`,c.default)}),t}var Ai=Object.values(Vr.OpenAPIV3.HttpMethods);function vi(e){return Object.entries(e.paths).flatMap(([r,t])=>t?Object.entries(t).filter(i=>Ai.includes(i[0])).map(([i,s])=>({path:r,verb:i,responses:s.responses})):[])}var Dr="0.9.0";var y=(0,Mr.default)();y.command("<spec>","Generating msw mock definitions with random fake data.").option("-o, --output <file>","Output file path such as `./mock.js`, without it'll output to stdout.").option("-m, --max-array-length <number>","Max array length, default to 20.").option("-t, --includes <keywords>","Include the request path with given string, can be seperated with comma.").option("-e, --excludes <keywords>","Exclude the request path with given string, can be seperated with comma.").option("--base-url [baseUrl]","Use the one you specified or server url in OpenAPI description as base url.").example("msw-auto-mock ./githubapi.yaml -o mock.js").example("msw-auto-mock ./githubapi.yaml -o mock.js -t /admin,/repo -m 30").action(async(e,r)=>{await Lr(e,r).catch(console.error)});y.help();y.version(Dr);y.parse();
